<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1"/>
<link rel="shortcut icon" href="../../assets/favicon.png"/>
<link rel="stylesheet" href="../../assets/fonts/fonts.css"/>
<link rel="stylesheet" href="../gsui.css"/>
<link rel="stylesheet" href="../test-assets/test.css"/>
<link rel="stylesheet" href="../gsuiIcon/gsuiIcon.css"/>
<link rel="stylesheet" href="../gsuiDragshield/gsuiDragshield.css"/>
<link rel="stylesheet" href="../gsuiBeatlines/gsuiBeatlines.css"/>
<link rel="stylesheet" href="../gsuiTimeline/gsuiTimeline.colors.default.css"/>
<link rel="stylesheet" href="../gsuiTimeline/gsuiTimeline.css"/>
<link rel="stylesheet" href="gsuiTimewindow.colors.default.css"/>
<link rel="stylesheet" href="gsuiTimewindow.css"/>
<style>
body {
	--test-bg-color: #916;
	--test-content-h: 260px;
}
gsui-timewindow {
	height: calc( 100% - 32px );
}
.gsuiTimewindow-line {
	height: var( --gsuiTimewindow-lineH );
}
.gsuiTimewindow-lineIn {
	box-sizing: border-box;
	position: relative;
	height: 100%;
	font-size: var( --gsuiTimewindow-pxperbeat );
	border-bottom: 1px solid #0004;
}
.gsuiTimewindow-lineItem {
	position: absolute;
	width: .25em;
	height: 100%;
	background-color: #ddfd;
}
.gsuiTimewindow-contentDown { background-color: #5c7; }
.gsuiTimewindow-panelContentDown { background-color: #38e; }

.myRow {
	box-sizing: border-box;
	height: var( --gsuiTimewindow-lineH );
	line-height: var( --gsuiTimewindow-lineH );
	padding-left: 1ch;
	color: #fff5;
	font-family: monospace;
	border-bottom: 1px solid #0004;
	cursor: default;
}
#timeForm {
	margin-top: 10px;
}
</style>
</head>
<body>

<div id="TEST">
	<gsui-timewindow downpanel timedivision="4/4" pxperbeat="60"></gsui-timewindow>
	<div id="timeForm">
		<label>
			<input id="timeDisabled" type="checkbox" name="disabled"/>
			<span>disabled</span>
		</label>
	</div>
</div>

<script src="../gsui.js"></script>
<script src="../test-assets/test.js"></script>
<script src="../gsuiDragshield/gsuiDragshield.js"></script>
<script src="../gsuiBeatlines/gsuiBeatlines.js"></script>
<script src="../gsuiTimeline/gsuiTimeline.html.js"></script>
<script src="../gsuiTimeline/gsuiTimeline.js"></script>
<script src="gsuiTimewindow.html.js"></script>
<script src="gsuiTimewindow.js"></script>
<script>
const win = document.querySelector( "gsui-timewindow" );
const tracks = [];
const rows = [];

document.querySelector( "#timeDisabled" ).onchange = e => {
	GSUI.setAttribute( win, "disabled", e.target.checked );
};
for ( let i = 0; i < 10; ++i ) {
	tracks.push( GSUI.createElement( "div", { class: "myRow" }, `track ${ i }` ) );
	rows.push( GSUI.createElement( "div", { class: "myRow" }, `row ${ i }` ) );
}
document.querySelector( ".gsuiTimewindow-panelContent" ).append( ...tracks );
document.querySelector( ".gsuiTimewindow-rows" ).append( ...rows );
</script>
</body>
</html>
